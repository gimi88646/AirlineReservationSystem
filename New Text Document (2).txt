-- CREATE TABLE IF NOT EXISTS CancelledFlights  (
-- 		"cancellatonId" INTEGER ,
-- 		"flightId" INTEGER,
-- 		"cancelledDate" date
-- 		PRIMARY KEY(cancellatonId, AUTOINCREMENT)
-- 		FOREIGN KEY("flightId") REFERENCES Flights(flightId)
-- );

-- CREATE TABLE 
-- CREATE TABLE IF NOT EXISTS test(
-- 	testId INT
-- );\

-- DROP TABLE IF EXISTS CancelledFlights ;
-- 
--  CREATE TABLE IF NOT EXISTS CancelledFlights (
-- 	cancellationId INTEGER NOT NULL UNIQUE,
--  	flightId INTEGER,
--  	cancelledDate date,
--  	PRIMARY KEY(cancellationId AUTOINCREMENT),
-- 	FOREIGN KEY(flightId) REFERENCES Flights(flightId)
-- );
-- 
-- INSERT INTO CancelledFlights(cancelledDate) VALUES (2021-06-21)


SELECT ProductName 
FROM Products
WHERE ProductID = ALL (SELECT ProductID FROM OrderDetails WHERE Quantity = 10);


-- i got the fights that are operating on date 2021-08-24

SELECT *
FROM Flights 
WHERE  NOT (flightId IN 
       (SELECT flightId
        FROM   CancelledFlights
        WHERE   cancelledDate = '2021-08-24')) ;



SELECT * From (SELECT *
FROM Flights 
WHERE  NOT (flightId IN 
       (SELECT flightId
        FROM   CancelledFlights
        WHERE   cancelledDate = '2021-09-12')) ) WHERE travelTo='karachi' AND travelFrom='Lahore';
